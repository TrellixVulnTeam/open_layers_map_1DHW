{"id":"LIR5","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"./TileImage.js","loc":{"line":17,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/TileImage.js"},{"name":"./WMTSRequestEncoding.js","loc":{"line":18,"column":32},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTSRequestEncoding.js"},{"name":"../uri.js","loc":{"line":19,"column":29},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/uri.js"},{"name":"../obj.js","loc":{"line":20,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/obj.js"},{"name":"../tilegrid/WMTS.js","loc":{"line":21,"column":48},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/tilegrid/WMTS.js"},{"name":"../tileurlfunction.js","loc":{"line":22,"column":54},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/tileurlfunction.js"},{"name":"../proj.js","loc":{"line":23,"column":49},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/proj.js"},{"name":"../array.js","loc":{"line":24,"column":42},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMTS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/array.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.optionsFromCapabilities=d,exports.default=void 0;var e=l(require(\"./TileImage.js\")),t=l(require(\"./WMTSRequestEncoding.js\")),i=require(\"../uri.js\"),r=require(\"../obj.js\"),n=require(\"../tilegrid/WMTS.js\"),o=require(\"../tileurlfunction.js\"),a=require(\"../proj.js\"),s=require(\"../array.js\");function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),c=function(e){function n(i){var r=this,n=void 0!==i.requestEncoding?i.requestEncoding:t.default.KVP,a=i.tileGrid,s=i.urls;return void 0===s&&void 0!==i.url&&(s=(0,o.expandUrl)(i.url)),(r=e.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:a,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,urls:s,wrapX:void 0!==i.wrapX&&i.wrapX,transition:i.transition})||this).version_=void 0!==i.version?i.version:\"1.0.0\",r.format_=void 0!==i.format?i.format:\"image/jpeg\",r.dimensions_=void 0!==i.dimensions?i.dimensions:{},r.layer_=i.layer,r.matrixSet_=i.matrixSet,r.style_=i.style,r.requestEncoding_=n,r.setKey(r.getKeyForDimensions_()),s&&s.length>0&&(r.tileUrlFunction=(0,o.createFromTileUrlFunctions)(s.map(r.createFromWMTSTemplate.bind(r)))),r}return u(n,e),n.prototype.setUrls=function(e){this.urls=e;var t=e.join(\"\\n\");this.setTileUrlFunction((0,o.createFromTileUrlFunctions)(e.map(this.createFromWMTSTemplate.bind(this))),t)},n.prototype.getDimensions=function(){return this.dimensions_},n.prototype.getFormat=function(){return this.format_},n.prototype.getLayer=function(){return this.layer_},n.prototype.getMatrixSet=function(){return this.matrixSet_},n.prototype.getRequestEncoding=function(){return this.requestEncoding_},n.prototype.getStyle=function(){return this.style_},n.prototype.getVersion=function(){return this.version_},n.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var i in this.dimensions_)t[e++]=i+\"-\"+this.dimensions_[i];return t.join(\"/\")},n.prototype.updateDimensions=function(e){(0,r.assign)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},n.prototype.createFromWMTSTemplate=function(e){var n=this.requestEncoding_,o={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n==t.default.KVP&&(0,r.assign)(o,{Service:\"WMTS\",Request:\"GetTile\",Version:this.version_,Format:this.format_}),e=n==t.default.KVP?(0,i.appendParams)(e,o):e.replace(/\\{(\\w+?)\\}/g,function(e,t){return t.toLowerCase()in o?o[t.toLowerCase()]:e});var a=this.tileGrid,s=this.dimensions_;return function(o,l,u){if(o){var c={TileMatrix:a.getMatrixId(o[0]),TileCol:o[1],TileRow:o[2]};(0,r.assign)(c,s);var f=e;return f=n==t.default.KVP?(0,i.appendParams)(f,c):f.replace(/\\{(\\w+?)\\}/g,function(e,t){return c[t]})}}},n}(e.default),f=c;function d(e,i){var r=e.Contents.Layer,o=(0,s.find)(r,function(e,t,r){return e.Identifier==i.layer});if(null===o)return null;var l,u=e.Contents.TileMatrixSet;(l=o.TileMatrixSetLink.length>1?\"projection\"in i?(0,s.findIndex)(o.TileMatrixSetLink,function(e,t,r){var n=(0,s.find)(u,function(t){return t.Identifier==e.TileMatrixSet}).SupportedCRS,o=(0,a.get)(n.replace(/urn:ogc:def:crs:(\\w+):(.*:)?(\\w+)$/,\"$1:$3\"))||(0,a.get)(n),l=(0,a.get)(i.projection);return o&&l?(0,a.equivalent)(o,l):n==i.projection}):(0,s.findIndex)(o.TileMatrixSetLink,function(e,t,r){return e.TileMatrixSet==i.matrixSet}):0)<0&&(l=0);var c=o.TileMatrixSetLink[l].TileMatrixSet,f=o.TileMatrixSetLink[l].TileMatrixSetLimits,d=o.Format[0];\"format\"in i&&(d=i.format),(l=(0,s.findIndex)(o.Style,function(e,t,r){return\"style\"in i?e.Title==i.style:e.isDefault}))<0&&(l=0);var p=o.Style[l].Identifier,m={};\"Dimension\"in o&&o.Dimension.forEach(function(e,t,i){var r=e.Identifier,n=e.Default;void 0===n&&(n=e.Value[0]),m[r]=n});var g,h=e.Contents.TileMatrixSet,T=(0,s.find)(h,function(e,t,i){return e.Identifier==c}),y=T.SupportedCRS;if(y&&(g=(0,a.get)(y.replace(/urn:ogc:def:crs:(\\w+):(.*:)?(\\w+)$/,\"$1:$3\"))||(0,a.get)(y)),\"projection\"in i){var v=(0,a.get)(i.projection);v&&(g&&!(0,a.equivalent)(v,g)||(g=v))}var x=\"ne\"==g.getAxisOrientation().substr(0,2),M=T.TileMatrix[0],S={MinTileCol:0,MinTileRow:0,MaxTileCol:M.MatrixWidth-1,MaxTileRow:M.MatrixHeight-1};f&&(S=f[f.length-1],M=(0,s.find)(T.TileMatrix,function(e){return e.Identifier===S.TileMatrix}));var _=28e-5*M.ScaleDenominator/g.getMetersPerUnit(),j=x?[M.TopLeftCorner[1],M.TopLeftCorner[0]]:M.TopLeftCorner,C=M.TileWidth*_,q=M.TileHeight*_,w=[j[0]+C*S.MinTileCol,j[1]-q*(1+S.MaxTileRow),j[0]+C*(1+S.MaxTileCol),j[1]-q*S.MinTileRow];null===g.getExtent()&&g.setExtent(w);var F=(0,n.createFromCapabilitiesMatrixSet)(T,w,f),E=[],P=i.requestEncoding;if(P=void 0!==P?P:\"\",\"OperationsMetadata\"in e&&\"GetTile\"in e.OperationsMetadata)for(var L=e.OperationsMetadata.GetTile.DCP.HTTP.Get,R=0,O=L.length;R<O;++R)if(L[R].Constraint){var b=(0,s.find)(L[R].Constraint,function(e){return\"GetEncoding\"==e.name}).AllowedValues.Value;if(\"\"===P&&(P=b[0]),P!==t.default.KVP)break;(0,s.includes)(b,t.default.KVP)&&E.push(L[R].href)}else L[R].href&&(P=t.default.KVP,E.push(L[R].href));return 0===E.length&&(P=t.default.REST,o.ResourceURL.forEach(function(e){\"tile\"===e.resourceType&&(d=e.format,E.push(e.template))})),{urls:E,layer:i.layer,matrixSet:c,format:d,projection:g,requestEncoding:P,tileGrid:F,style:p,dimensions:m,wrapX:!1,crossOrigin:i.crossOrigin}}exports.default=f;"},"sourceMaps":null,"error":null,"hash":"9468096857b2bff6d9f841bf632ba944","cacheData":{"env":{}}}