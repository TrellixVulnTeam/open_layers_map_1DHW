{"id":"ZS12","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../Collection.js","loc":{"line":17,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Collection.js"},{"name":"../CollectionEventType.js","loc":{"line":18,"column":32},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/CollectionEventType.js"},{"name":"../events/Event.js","loc":{"line":19,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/Event.js"},{"name":"../events/EventType.js","loc":{"line":20,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"../ObjectEventType.js","loc":{"line":21,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/ObjectEventType.js"},{"name":"../structs/RBush.js","loc":{"line":22,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/structs/RBush.js"},{"name":"./Source.js","loc":{"line":23,"column":19},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Source.js"},{"name":"./State.js","loc":{"line":24,"column":24},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/State.js"},{"name":"./VectorEventType.js","loc":{"line":25,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/VectorEventType.js"},{"name":"../functions.js","loc":{"line":26,"column":27},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/functions.js"},{"name":"../loadingstrategy.js","loc":{"line":27,"column":35},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/loadingstrategy.js"},{"name":"../asserts.js","loc":{"line":28,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/asserts.js"},{"name":"../extent.js","loc":{"line":29,"column":39},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"},{"name":"../array.js","loc":{"line":30,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/array.js"},{"name":"../util.js","loc":{"line":31,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/util.js"},{"name":"../obj.js","loc":{"line":32,"column":35},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/obj.js"},{"name":"../events.js","loc":{"line":33,"column":38},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events.js"},{"name":"../featureloader.js","loc":{"line":34,"column":20},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/featureloader.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=exports.VectorSourceEvent=void 0;var e=E(require(\"../Collection.js\")),t=E(require(\"../CollectionEventType.js\")),r=E(require(\"../events/Event.js\")),n=E(require(\"../events/EventType.js\")),i=E(require(\"../ObjectEventType.js\")),o=E(require(\"../structs/RBush.js\")),s=E(require(\"./Source.js\")),a=E(require(\"./State.js\")),u=E(require(\"./VectorEventType.js\")),h=require(\"../functions.js\"),l=require(\"../loadingstrategy.js\"),d=require(\"../asserts.js\"),f=require(\"../extent.js\"),c=require(\"../array.js\"),_=require(\"../util.js\"),p=require(\"../obj.js\"),v=require(\"../events.js\"),y=require(\"../featureloader.js\");function E(e){return e&&e.__esModule?e:{default:e}}var g=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(e){function t(t,r){var n=e.call(this,t)||this;return n.feature=r,n}return g(t,e),t}(r.default);exports.VectorSourceEvent=x;var F=function(r){function s(t){var n=this,i=t||{};(n=r.call(this,{attributions:i.attributions,projection:void 0,state:a.default.READY,wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=h.VOID,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&((0,d.assert)(n.format_,7),n.loader_=(0,y.xhr)(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:l.all;var s,u,f=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=f?new o.default:null,n.loadedExtentsRtree_=new o.default,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?u=i.features:i.features&&(u=(s=i.features).getArray()),f||void 0!==s||(s=new e.default(u)),void 0!==u&&n.addFeaturesInternal(u),void 0!==s&&n.bindFeaturesCollection_(s),n}return g(s,r),s.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},s.prototype.addFeatureInternal=function(e){var t=(0,_.getUid)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var r=e.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new x(u.default.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},s.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[(0,v.listen)(t,n.default.CHANGE,this.handleFeatureChange_,this),(0,v.listen)(t,i.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},s.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t),r&&((0,d.assert)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),r},s.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},s.prototype.addFeaturesInternal=function(e){for(var t=[],r=[],n=[],i=0,o=e.length;i<o;i++){var s=e[i],a=(0,_.getUid)(s);this.addToIndex_(a,s)&&r.push(s)}i=0;for(var h=r.length;i<h;i++){s=r[i],a=(0,_.getUid)(s);this.setupChangeEvents_(a,s);var l=s.getGeometry();if(l){var d=l.getExtent();t.push(d),n.push(s)}else this.nullGeometryFeatures_[a]=s}this.featuresRtree_&&this.featuresRtree_.load(t,n);i=0;for(var f=r.length;i<f;i++)this.dispatchEvent(new x(u.default.ADDFEATURE,r[i]))},s.prototype.bindFeaturesCollection_=function(e){var r=!1;this.addEventListener(u.default.ADDFEATURE,function(t){r||(r=!0,e.push(t.feature),r=!1)}),this.addEventListener(u.default.REMOVEFEATURE,function(t){r||(r=!0,e.remove(t.feature),r=!1)}),e.addEventListener(t.default.ADD,function(e){r||(r=!0,this.addFeature(e.element),r=!1)}.bind(this)),e.addEventListener(t.default.REMOVE,function(e){r||(r=!0,this.removeFeature(e.element),r=!1)}.bind(this)),this.featuresCollection_=e},s.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(v.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new x(u.default.CLEAR);this.dispatchEvent(n),this.changed()},s.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},s.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0})},s.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},s.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}})},s.prototype.getFeaturesCollection=function(){return this.featuresCollection_},s.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,p.isEmpty)(this.nullGeometryFeatures_)||(0,c.extend)(e,(0,p.getValues)(this.nullGeometryFeatures_))),e},s.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},s.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},s.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=t||h.TRUE;return this.featuresRtree_.forEachInExtent(a,function(e){if(u(e)){var t=e.getGeometry(),h=s;if((s=t.closestPointXY(r,n,o,s))<h){i=e;var l=Math.sqrt(s);a[0]=r-l,a[1]=n-l,a[2]=r+l,a[3]=n+l}}}),i},s.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},s.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},s.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},s.prototype.getFormat=function(){return this.format_},s.prototype.getOverlaps=function(){return this.overlaps_},s.prototype.getUrl=function(){return this.url_},s.prototype.handleFeatureChange_=function(e){var t=e.target,r=(0,_.getUid)(t),n=t.getGeometry();if(n){var i=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(i,t)):this.featuresRtree_&&this.featuresRtree_.update(i,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);var o=t.getId();if(void 0!==o){var s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new x(u.default.CHANGEFEATURE,t))},s.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:(0,_.getUid)(e)in this.uidIndex_},s.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,p.isEmpty)(this.nullGeometryFeatures_)},s.prototype.loadFeatures=function(e,t,r){var n=this.loadedExtentsRtree_,i=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var a=i[e];n.forEachInExtent(a,function(e){return(0,f.containsExtent)(e.extent,a)})||(s.loader_.call(s,a,t,r),n.insert(a,{extent:a.slice()}),s.loading=s.loader_!==h.VOID)},s=this,a=0,u=i.length;a<u;++a)o(a)},s.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},s.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(r){if((0,f.equals)(r.extent,e))return t=r,!0}),t&&r.remove(t)},s.prototype.removeFeature=function(e){var t=(0,_.getUid)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},s.prototype.removeFeatureInternal=function(e){var t=(0,_.getUid)(e);this.featureChangeKeys_[t].forEach(v.unlistenByKey),delete this.featureChangeKeys_[t];var r=e.getId();void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[t],this.dispatchEvent(new x(u.default.REMOVEFEATURE,e))},s.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},s.prototype.setLoader=function(e){this.loader_=e},s.prototype.setUrl=function(e){(0,d.assert)(this.format_,7),this.setLoader((0,y.xhr)(e,this.format_))},s}(s.default),I=F;exports.default=I;"},"sourceMaps":null,"error":null,"hash":"59ef6f09f91ddc4fd4eba691700d4005","cacheData":{"env":{}}}