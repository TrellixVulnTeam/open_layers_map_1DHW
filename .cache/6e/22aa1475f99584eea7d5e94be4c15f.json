{"id":"w95b","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../Disposable.js","loc":{"line":17,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Disposable.js"},{"name":"../events/Event.js","loc":{"line":18,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/Event.js"},{"name":"../events/EventType.js","loc":{"line":19,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"../ImageCanvas.js","loc":{"line":20,"column":24},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/ImageCanvas.js"},{"name":"../layer/Image.js","loc":{"line":21,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/layer/Image.js"},{"name":"./Image.js","loc":{"line":22,"column":24},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Image.js"},{"name":"./Source.js","loc":{"line":23,"column":19},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Source.js"},{"name":"./State.js","loc":{"line":24,"column":24},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/State.js"},{"name":"../layer/Tile.js","loc":{"line":25,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/layer/Tile.js"},{"name":"../TileQueue.js","loc":{"line":26,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/TileQueue.js"},{"name":"./Tile.js","loc":{"line":27,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Tile.js"},{"name":"../obj.js","loc":{"line":28,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/obj.js"},{"name":"../dom.js","loc":{"line":29,"column":38},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/dom.js"},{"name":"../transform.js","loc":{"line":30,"column":42},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/transform.js"},{"name":"../extent.js","loc":{"line":31,"column":55},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Raster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.newImageData=y,exports.default=exports.RasterSourceEvent=exports.Processor=void 0;var e=_(require(\"../Disposable.js\")),t=_(require(\"../events/Event.js\")),r=_(require(\"../events/EventType.js\")),a=_(require(\"../ImageCanvas.js\")),n=_(require(\"../layer/Image.js\")),i=_(require(\"./Image.js\")),s=_(require(\"./Source.js\")),o=_(require(\"./State.js\")),u=_(require(\"../layer/Tile.js\")),l=_(require(\"../TileQueue.js\")),h=_(require(\"./Tile.js\")),p=require(\"../obj.js\"),d=require(\"../dom.js\"),f=require(\"../transform.js\"),c=require(\"../extent.js\");function _(e){return e&&e.__esModule?e:{default:e}}var g=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),v=!0;try{new ImageData(10,10)}catch(L){v=!1}var m=document.createElement(\"canvas\").getContext(\"2d\");function y(e,t,r){if(v)return new ImageData(e,t,r);var a=m.createImageData(t,r);return a.data.set(e),a}function w(e){var t=!0;try{new ImageData(10,10)}catch(L){t=!1}function r(e,r,a){return t?new ImageData(e,r,a):{data:e,width:r,height:a}}return function(t){var a,n,i=t.buffers,s=t.meta,o=t.imageOps,u=t.width,l=t.height,h=i.length,p=i[0].byteLength;if(o){var d=new Array(h);for(n=0;n<h;++n)d[n]=r(new Uint8ClampedArray(i[n]),u,l);a=e(d,s).data}else{a=new Uint8ClampedArray(p);var f=new Array(h),c=new Array(h);for(n=0;n<h;++n)f[n]=new Uint8ClampedArray(i[n]),c[n]=[0,0,0,0];for(var _=0;_<p;_+=4){for(var g=0;g<h;++g){var v=f[g];c[g][0]=v[_],c[g][1]=v[_+1],c[g][2]=v[_+2],c[g][3]=v[_+3]}var m=e(c,s);a[_]=m[0],a[_+1]=m[1],a[_+2]=m[2],a[_+3]=m[3]}}return a.buffer}}function b(e,t){var r=Object.keys(e.lib||{}).map(function(t){return\"var \"+t+\" = \"+e.lib[t].toString()+\";\"}).concat([\"var __minion__ = (\"+w.toString()+\")(\",e.operation.toString(),\");\",'self.addEventListener(\"message\", function(event) {',\"  var buffer = __minion__(event.data);\",\"  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);\",\"});\"]),a=new Blob(r,{type:\"text/javascript\"}),n=URL.createObjectURL(a),i=new Worker(n);return i.addEventListener(\"message\",t),i}function I(e,t){var r=w(e.operation),a=!1;return{postMessage:function(e){setTimeout(function(){a||t({data:{buffer:r(e),meta:e.meta}})},0)},terminate:function(){a=!0}}}var S=function(e){function t(t){var r,a=e.call(this)||this;a._imageOps=!!t.imageOps;var n=[];if(r=0===t.threads?0:a._imageOps?1:t.threads||1)for(var i=0;i<r;++i)n[i]=b(t,a._onWorkerMessage.bind(a,i));else n[0]=I(t,a._onWorkerMessage.bind(a,0));return a._workers=n,a._queue=[],a._maxQueueLength=t.queue||1/0,a._running=0,a._dataLookup={},a._job=null,a}return g(t,e),t.prototype.process=function(e,t,r){this._enqueue({inputs:e,meta:t,callback:r}),this._dispatch()},t.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},t.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var e=this._queue.shift();this._job=e;var t=e.inputs[0].width,r=e.inputs[0].height,a=e.inputs.map(function(e){return e.data.buffer}),n=this._workers.length;if(this._running=n,1===n)this._workers[0].postMessage({buffers:a,meta:e.meta,imageOps:this._imageOps,width:t,height:r},a);else for(var i=e.inputs[0].data.length,s=4*Math.ceil(i/4/n),o=0;o<n;++o){for(var u=o*s,l=[],h=0,p=a.length;h<p;++h)l.push(a[o].slice(u,u+s));this._workers[o].postMessage({buffers:l,meta:e.meta,imageOps:this._imageOps,width:t,height:r},l)}}},t.prototype._onWorkerMessage=function(e,t){this.disposed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())},t.prototype._resolveJob=function(){var e,t,r=this._job,a=this._workers.length;if(1===a)e=new Uint8ClampedArray(this._dataLookup[0].buffer),t=this._dataLookup[0].meta;else{var n=r.inputs[0].data.length;e=new Uint8ClampedArray(n),t=new Array(n);for(var i=4*Math.ceil(n/4/a),s=0;s<a;++s){var o=this._dataLookup[s].buffer,u=s*i;e.set(new Uint8ClampedArray(o),u),t[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},r.callback(null,y(e,r.inputs[0].width,r.inputs[0].height),t),this._dispatch()},t.prototype.disposeInternal=function(){for(var e=0;e<this._workers.length;++e)this._workers[e].terminate();this._workers.length=0},t}(e.default);exports.Processor=S;var q={BEFOREOPERATIONS:\"beforeoperations\",AFTEROPERATIONS:\"afteroperations\"},x={PIXEL:\"pixel\",IMAGE:\"image\"},C=function(e){function t(t,r,a){var n=e.call(this,t)||this;return n.extent=r.extent,n.resolution=r.viewState.resolution/r.pixelRatio,n.data=a,n}return g(t,e),t}(t.default);exports.RasterSourceEvent=C;var E=function(e){function t(t){var a=e.call(this,{projection:null})||this;a.processor_=null,a.operationType_=void 0!==t.operationType?t.operationType:x.PIXEL,a.threads_=void 0!==t.threads?t.threads:1,a.layers_=k(t.sources);for(var n=a.changed.bind(a),i=0,o=a.layers_.length;i<o;++i)a.layers_[i].addEventListener(r.default.CHANGE,n);return a.tileQueue_=new l.default(function(){return 1},a.changed.bind(a)),a.requestedFrameState_,a.renderedImageCanvas_=null,a.renderedRevision_,a.frameState_={animate:!1,coordinateToPixelTransform:(0,f.create)(),extent:null,index:0,layerIndex:0,layerStatesArray:A(a.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,f.create)(),postRenderFunctions:[],size:[0,0],tileQueue:a.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},declutterItems:[]},a.setAttributions(function(e){for(var r=[],a=0,n=t.sources.length;a<n;++a){var i=t.sources[a],o=(i instanceof s.default?i:i.getSource()).getAttributions();if(\"function\"==typeof o){var u=o(e);r.push.apply(r,u)}}return 0!==r.length?r:null}),void 0!==t.operation&&a.setOperation(t.operation,t.lib),a}return g(t,e),t.prototype.setOperation=function(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new S({operation:e,imageOps:this.operationType_===x.IMAGE,queue:1,lib:t,threads:this.threads_}),this.changed()},t.prototype.updateFrameState_=function(e,t,r){var a=(0,p.assign)({},this.frameState_);a.viewState=(0,p.assign)({},a.viewState);var n=(0,c.getCenter)(e);a.extent=e.slice(),a.size[0]=Math.round((0,c.getWidth)(e)/t),a.size[1]=Math.round((0,c.getHeight)(e)/t),a.time=1/0;var i=a.viewState;return i.center=n,i.projection=r,i.resolution=t,a},t.prototype.allSourcesReady_=function(){for(var e=!0,t=0,r=this.layers_.length;t<r;++t)if(this.layers_[t].getSource().getState()!==o.default.READY){e=!1;break}return e},t.prototype.getImage=function(e,t,r,a){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(e,t,a);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var i=this.renderedImageCanvas_.getResolution(),s=this.renderedImageCanvas_.getExtent();t===i&&(0,c.equals)(e,s)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},t.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.layers_.length,r=new Array(t),a=0;a<t;++a){e.layerIndex=a;var n=O(this.layers_[a],e);if(!n)return;r[a]=n}var i={};this.dispatchEvent(new C(q.BEFOREOPERATIONS,e,i)),this.processor_.process(r,i,this.onWorkerComplete_.bind(this,e))},t.prototype.onWorkerComplete_=function(e,t,r,n){if(!t&&r){var i=e.extent,s=e.viewState.resolution;if(s===this.requestedFrameState_.viewState.resolution&&(0,c.equals)(i,this.requestedFrameState_.extent)){var o;if(this.renderedImageCanvas_)o=this.renderedImageCanvas_.getImage().getContext(\"2d\");else{var u=Math.round((0,c.getWidth)(i)/s),l=Math.round((0,c.getHeight)(i)/s);o=(0,d.createCanvasContext2D)(u,l),this.renderedImageCanvas_=new a.default(i,s,1,o.canvas)}o.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new C(q.AFTEROPERATIONS,e,n))}}},t.prototype.getImageInternal=function(){return null},t.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose(),e.prototype.disposeInternal.call(this)},t}(i.default);E.prototype.dispose;var j=null;function O(e,t){var r=e.getRenderer();if(!r)throw new Error(\"Unsupported layer type: \"+e);if(!r.prepareFrame(t))return null;var a,n=t.size[0],i=t.size[1],s=r.renderFrame(t,null);if(s&&(a=s.firstElementChild),!(a instanceof HTMLCanvasElement))throw new Error(\"Unsupported rendered element: \"+a);if(a.width===n&&a.height===i)return a.getContext(\"2d\").getImageData(0,0,n,i);if(j){var o=j.canvas;o.width!==n||o.height!==i?j=(0,d.createCanvasContext2D)(n,i):j.clearRect(0,0,n,i)}else j=(0,d.createCanvasContext2D)(n,i);return j.drawImage(a,0,0,n,i),j.getImageData(0,0,n,i)}function A(e){return e.map(function(e){return e.getLayerState()})}function k(e){for(var t=e.length,r=new Array(t),a=0;a<t;++a)r[a]=R(e[a]);return r}function R(e){var t;return e instanceof s.default?e instanceof h.default?t=new u.default({source:e}):e instanceof i.default&&(t=new n.default({source:e})):t=e,t}var T=E;exports.default=T;"},"sourceMaps":null,"error":null,"hash":"461b9dfd54d34060a0dde0bb394c9877","cacheData":{"env":{}}}