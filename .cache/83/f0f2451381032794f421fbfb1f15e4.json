{"id":"quTw","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"ol/ol.css","loc":{"line":1,"column":7},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/ol.css"},{"name":"ol/layer/MapboxVector","loc":{"line":2,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/layer/MapboxVector.js"},{"name":"ol/style","loc":{"line":3,"column":48},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/style.js"},{"name":"ol/index","loc":{"line":4,"column":42},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/index.js"},{"name":"ol/source","loc":{"line":5,"column":42},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source.js"},{"name":"ol/geom","loc":{"line":6,"column":20},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom.js"},{"name":"ol/layer","loc":{"line":7,"column":55},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/layer.js"},{"name":"ol/proj","loc":{"line":11,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/proj.js"},{"name":"ol/format/GeoJSON","loc":{"line":9,"column":20},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/format/GeoJSON.js"},{"name":"ol/easing","loc":{"line":10,"column":30},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/easing.js"},{"name":"ol/interaction.js","loc":{"line":12,"column":46},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/map.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction.js"}],"generated":{"js":"\"use strict\";require(\"ol/ol.css\");var e=u(require(\"ol/layer/MapboxVector\")),t=require(\"ol/style\"),o=require(\"ol/index\"),n=require(\"ol/source\"),r=require(\"ol/geom\"),a=require(\"ol/layer\"),i=require(\"ol/proj\"),s=u(require(\"ol/format/GeoJSON\")),l=require(\"ol/easing\"),c=require(\"ol/interaction.js\");function u(e){return e&&e.__esModule?e:{default:e}}(0,i.useGeographic)();var p=v();console.log(\"center:\"+p);var m=new r.Point(p),d=new o.View({center:p,zoom:10});function g(e,t){document.getElementById(e).value=t}function v(){var e=Intl.DateTimeFormat().resolvedOptions().timeZone;document.getElementById(\"state-select-map\");return\"Australia/Perth\"==e&&(g(\"state-select-map\",\"WA\"),e=[115.832409,-31.9295999]),\"Australia/Melbourne\"==e&&(g(\"state-select-map\",\"VIC\"),e=[144.9631,-37.9136]),\"Australia/Sydney\"==e&&(g(\"state-select-map\",\"NSW\"),e=[151.2093,-33.4688]),\"Australia/Adelaide\"==e?(g(\"state-select-map\",\"SA\"),e=[138.61387,-34.92504]):(g(\"state-select-map\",\"WA\"),e=[115.832409,-31.9295999]),e}function y(){var i=new XMLHttpRequest;i.open(\"GET\",\"https://revofitness.com.au/wp-json/acf/v3/options/options/map\",!0),i.onload=function(){if(i.status>=200&&i.status<400){var s,l=function(e,t){d.animate({center:e,duration:500,zoom:t})},u=function(e){var t;y.forEach(function(o){(t=document.getElementById(o.Popup))!=e?$(t).popover(\"dispose\"):$(e).popover(\"show\")})},g=function(e,t){$(e).popover({container:e.parentElement,html:!0,sanitize:!1,content:\"\\n <div style='width:470px;'><div class='column col-1'><div style='margin-bottom:15px;'>\"+t.youtube+\"</div></div><div class='column col-2'><strong><span class='pop-heading'>\"+t.Gym_name+\"</span></strong><span class='by-line'>\"+t.Byline+\"</span><span class='address'>\"+t.Address+\"</span><div class='button-wrapper'><a href='\"+t.Google_direction+\"' target='_blank' class='directions' id='directions'>Get directions</a><a href='mailto:\"+t.Email+\"' target='_blank' class='directions'>Contact us</></a></div></div></div>\",placement:\"top\"})},v=JSON.parse(i.responseText).map,y=[];v.forEach(function(e){var t=parseFloat(e.longitude),o=parseFloat(e.latitude),n=e.gym_name.replace(\"'\",\"\");y.push({Popup:\"popup_\"+e.popup,longLat:[t,-o],Point:new r.Point([t,-o]),Gym_name:\"<a href='/gyms/\"+n+\"' target='_blank' rel='nofollow'>\"+e.gym_name+\"</a>\",Byline:\"\"+e.byline,Email:\"\"+e.email,Google_direction:\"\"+e.google_direction,Address:\"\"+e.address,youtube:\"\"+e.youtube})}),console.log(y),function(){var e;for(e=0;e<y.length;e++){var t=e.toString(),o=\"popup_\"+t;document.getElementById(o)}}(),document.getElementById(\"state-select-map\").addEventListener(\"change\",function(e){\"NSW\"==e.currentTarget.value&&l([151.2093,-33.9088],8),\"WA\"==e.currentTarget.value&&l([115.832409,-31.9295999],10),\"ALL\"==e.currentTarget.value&&(l([131.036974,-25.3451132],4),d=new o.View({center:[144.9631,-37.9136],zoom:10})),\"VIC\"==e.currentTarget.value&&l([144.9631,-37.9136],10),\"SA\"==e.currentTarget.value&&l([138.61387,-34.92504],10)});var f=new o.Map({target:\"map\",interactions:(0,c.defaults)({doubleClickZoom:!1,dragAndDrop:!1,dragPan:!0,keyboardPan:!1,keyboardZoom:!1,mouseWheelZoom:!1,pointer:!1,select:!1}),view:d,layers:[new e.default({styleUrl:\"mapbox://styles/okmg-web/ckgj03fkd0pq519ru6pk9gx1x\",accessToken:\"pk.eyJ1IjoibWF0aGV3Ym93eWVyIiwiYSI6ImNrZjNtOHAyZzA0aXEycHMweGZkdzgwM2kifQ.mtuqEjOwZYW4G-T2zpTAsg\"}),new a.Vector({className:\"map-theme\",opacity:1,source:new n.Vector({features:[new o.Feature(m)]}),style:new t.Style({image:new t.Circle({})})})]});y.forEach(function(e){var r=new a.Vector({className:\"pointerTing\",opacity:1,source:new n.Vector({features:[new o.Feature(e.Point)]}),style:new t.Style({image:new t.Icon({anchor:[.5,.9],anchorXUnits:\"fraction\",anchorYUnits:\"pixels\",src:\"https://revofitness.com.au/wp-content/uploads/2020/01/Revo-Location-Pin.png\"})})});f.addLayer(r)}),f.on(\"click\",function(e){var t,n=f.getFeaturesAtPixel(e.pixel)[0];if(n){var r=n.getGeometry().getCoordinates();for(a=0;a<y.length;a++)r.toString()==y[a].longLat.toString()&&(c=\"popup_\"+(i=a.toString()),m=\"element_\",m+=i,m=document.getElementById(c),t=m,s=new o.Overlay({element:t,positioning:\"bottom-center\",stopEvent:!0,animation:!1,offset:[0,-10]}),f.addOverlay(s),s.setPosition(r),g(m,y[a]),u(m),l(y[a].longLat,9))}else{var a;for(a=0;a<y.length;a++){var i,c=\"popup_\"+(i=a.toString()),m=\"element_\";m+=i;var m=document.getElementById(c);$(m).popover(\"dispose\")}l(p,10)}}),f.on(\"moveend\",function(){f.getView().getCenter()}),f.on(\"pointermove\",function(e){f.hasFeatureAtPixel(e.pixel)?f.getViewport().style.cursor=\"pointer\":f.getViewport().style.cursor=\"inherit\"})}else console.log(\"error\")},i.onerror=function(){},i.send()}v(),y();"},"sourceMaps":null,"error":null,"hash":"ead4f676f9452b5c28adde367693d206","cacheData":{"env":{}}}