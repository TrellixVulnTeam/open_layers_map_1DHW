{"id":"pZKE","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"./Instruction.js","loc":{"line":4,"column":30},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Instruction.js"},{"name":"rbush/rbush.js","loc":{"line":5,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/rbush/rbush.js"},{"name":"./TextBuilder.js","loc":{"line":6,"column":27},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/TextBuilder.js"},{"name":"../../has.js","loc":{"line":7,"column":40},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/has.js"},{"name":"../../transform.js","loc":{"line":8,"column":136},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/transform.js"},{"name":"../../extent.js","loc":{"line":9,"column":78},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"},{"name":"../canvas.js","loc":{"line":11,"column":98},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas.js"},{"name":"../../geom/flat/textpath.js","loc":{"line":12,"column":31},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/flat/textpath.js"},{"name":"../../array.js","loc":{"line":13,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/array.js"},{"name":"../../geom/flat/length.js","loc":{"line":14,"column":33},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/flat/length.js"},{"name":"../../geom/flat/transform.js","loc":{"line":15,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/render/canvas/Executor.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/flat/transform.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=d(require(\"./Instruction.js\")),e=d(require(\"rbush/rbush.js\")),i=require(\"./TextBuilder.js\"),a=require(\"../../has.js\"),s=require(\"../../transform.js\"),r=require(\"../../extent.js\"),l=require(\"../canvas.js\"),n=require(\"../../geom/flat/textpath.js\"),h=require(\"../../array.js\"),o=require(\"../../geom/flat/length.js\"),u=require(\"../../geom/flat/transform.js\");function d(t){return t&&t.__esModule?t:{default:t}}var f=(0,r.createEmpty)(),c=(0,s.create)(),p=[],v=[],_=[],g=[],x=function(){function d(t,e,i,a,r){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.declutterItems=[],this.instructions=a.instructions,this.coordinates=a.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=(0,s.create)(),this.hitDetectionInstructions=a.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=a.fillStates||{},this.strokeStates=a.strokeStates||{},this.textStates=a.textStates||{},this.widths_={},this.labels_={}}return d.prototype.createLabel=function(t,e,s,r){var n=t+e+s+r;if(this.labels_[n])return this.labels_[n];var h=r?this.strokeStates[r]:null,o=s?this.fillStates[s]:null,u=this.textStates[e],d=this.pixelRatio,f=[u.scale[0]*d,u.scale[1]*d],c=i.TEXT_ALIGN[u.textAlign||l.defaultTextAlign],p=r&&h.lineWidth?h.lineWidth:0,v=t.split(\"\\n\"),_=v.length,g=[],x=(0,l.measureTextWidths)(u.font,v,g),m=(0,l.measureTextHeight)(u.font),T=x+p,y=[],b=(T+2)*f[0],S=(m*_+p)*f[1],k={width:b<0?Math.floor(b):Math.ceil(b),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:y};(1==f[0]&&1==f[1]||y.push(\"scale\",f),y.push(\"font\",u.font),r)&&(y.push(\"strokeStyle\",h.strokeStyle),y.push(\"lineWidth\",p),y.push(\"lineCap\",h.lineCap),y.push(\"lineJoin\",h.lineJoin),y.push(\"miterLimit\",h.miterLimit),(a.WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(y.push(\"setLineDash\",[h.lineDash]),y.push(\"lineDashOffset\",h.lineDashOffset)));s&&y.push(\"fillStyle\",o.fillStyle),y.push(\"textBaseline\",\"middle\"),y.push(\"textAlign\",\"center\");var L,R=.5-c,I=c*T+R*p;if(r)for(L=0;L<_;++L)y.push(\"strokeText\",[v[L],I+R*g[L],.5*(p+m)+L*m]);if(s)for(L=0;L<_;++L)y.push(\"fillText\",[v[L],I+R*g[L],.5*(p+m)+L*m]);return this.labels_[n]=k,k},d.prototype.replayTextBackground_=function(t,e,i,a,s,r,l,n){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,a),t.lineTo.apply(t,s),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],n&&(t.fillStyle=r[1]),this.fill_(t)),l&&(this.setStrokeStyle_(t,l),t.stroke())},d.prototype.replayImageOrLabel_=function(t,e,i,a,n,h,o,u,d,x,m,T,y,b,S,k,L,R,I){var E=R||I;i-=h*=b[0],a-=o*=b[1];var M=k+m>n.width?n.width-m:k,w=d+T>n.height?n.height-T:d,O=L[3]+M*b[0]+L[1],A=L[0]+w*b[1]+L[2],C=i-L[3],D=a-L[0];(E||0!==y)&&(p[0]=C,g[0]=C,p[1]=D,v[1]=D,v[0]=C+O,_[0]=v[0],_[1]=D+A,g[1]=_[1]);var P=null;if(0!==y){var W=i+h,N=a+o;P=(0,s.compose)(c,W,N,1,1,y,-W,-N),(0,s.apply)(c,p),(0,s.apply)(c,v),(0,s.apply)(c,_),(0,s.apply)(c,g),(0,r.createOrUpdate)(Math.min(p[0],v[0],_[0],g[0]),Math.min(p[1],v[1],_[1],g[1]),Math.max(p[0],v[0],_[0],g[0]),Math.max(p[1],v[1],_[1],g[1]),f)}else(0,r.createOrUpdate)(C,D,C+O,D+A,f);var q=0,j=0;if(u){var B=this.renderBuffer_;B[0]=Math.max(B[0],(0,r.getWidth)(f)),q=B[0],B[1]=Math.max(B[1],(0,r.getHeight)(f)),j=B[1]}var F=t.canvas,G=I?I[2]*b[0]/2:0,X=f[0]-G<=(F.width+q)/e&&f[2]+G>=-q/e&&f[1]-G<=(F.height+j)/e&&f[3]+G>=-j/e;if(S&&(i=Math.round(i),a=Math.round(a)),u){if(!X&&1==u[0])return!1;var Y=X?[t,P?P.slice(0):null,x,n,m,T,M,w,i,a,b,f.slice()]:null;Y&&(E&&Y.push(R,I,p.slice(0),v.slice(0),_.slice(0),g.slice(0)),u.push(Y))}else X&&(E&&this.replayTextBackground_(t,p,v,_,g,R,I,!1),(0,l.drawImageOrLabel)(t,P,x,n,m,T,M,w,i,a,b));return!0},d.prototype.fill_=function(t){if(this.alignFill_){var e=(0,s.apply)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},d.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},d.prototype.renderDeclutter=function(t,i,a,s){for(var r=[],n=1,h=t.length;n<h;++n){var o=(c=t[n])[11];r.push({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:i})}s||(s=new e.default(9));var u=!1;for(n=0,h=r.length;n<h;++n)if(s.collides(r[n])){u=!0;break}if(!u){s.load(r);for(var d=1,f=t.length;d<f;++d){var c,p=(c=t[d])[0],v=p.globalAlpha;v!==a&&(p.globalAlpha=a),c.length>12&&this.replayTextBackground_(c[0],c[14],c[15],c[16],c[17],c[12],c[13],!0),l.drawImageOrLabel.apply(void 0,c),v!==a&&(p.globalAlpha=v)}}return t.length=1,s},d.prototype.drawLabelWithPointPlacement_=function(t,e,a,s){var r=this.textStates[e],n=this.createLabel(t,e,s,a),h=this.strokeStates[a],o=this.pixelRatio,u=i.TEXT_ALIGN[r.textAlign||l.defaultTextAlign],d=i.TEXT_ALIGN[r.textBaseline||l.defaultTextBaseline],f=h&&h.lineWidth?h.lineWidth:0;return{label:n,anchorX:u*(n.width/o-2*r.scale[0])+2*(.5-u)*f,anchorY:d*n.height/o+2*(.5-d)*f}},d.prototype.execute_=function(e,a,d,f,c,p,v){var _;this.declutterItems.length=0,this.pixelCoordinates_&&(0,h.equals)(d,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=(0,u.transform2D)(this.coordinates,0,this.coordinates.length,2,d,this.pixelCoordinates_),(0,s.setFromArray)(this.renderedTransform_,d));for(var g,x,m,T,y,b,S,k,L,R,I,E,M,w,O,A,C,D=0,P=f.length,W=0,N=0,q=0,j=null,B=null,F=this.coordinateCache_,G=this.viewRotation_,X=Math.round(1e12*Math.atan2(-d[1],d[0]))/1e12,Y={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:G},H=this.instructions!=f||this.overlaps?0:200;D<P;){var J=f[D];switch(J[0]){case t.default.BEGIN_GEOMETRY:(O=J[1]).getGeometry()?void 0===v||(0,r.intersects)(v,J[3])?++D:D=J[2]+1:D=J[2];break;case t.default.BEGIN_PATH:N>H&&(this.fill_(e),N=0),q>H&&(e.stroke(),q=0),N||q||(e.beginPath(),T=NaN,y=NaN),++D;break;case t.default.CIRCLE:var K=_[W=J[1]],U=_[W+1],V=_[W+2]-K,z=_[W+3]-U,Q=Math.sqrt(V*V+z*z);e.moveTo(K+Q,U),e.arc(K,U,Q,0,2*Math.PI,!0),++D;break;case t.default.CLOSE_PATH:e.closePath(),++D;break;case t.default.CUSTOM:W=J[1],g=J[2];var Z=J[3],$=J[4],tt=6==J.length?J[5]:void 0;Y.geometry=Z,Y.feature=O,D in F||(F[D]=[]);var et=F[D];tt?tt(_,W,g,2,et):(et[0]=_[W],et[1]=_[W+1],et.length=2),$(et,Y),++D;break;case t.default.DRAW_IMAGE:W=J[1],g=J[2],R=J[3],x=J[4],m=J[5],L=p?null:J[6];var it=J[7],at=J[8],st=J[9],rt=J[10],lt=J[11],nt=J[12],ht=J[13],ot=J[14];if(!R&&J.length>=19){I=J[18],E=J[19],M=J[20],w=J[21];var ut=this.drawLabelWithPointPlacement_(I,E,M,w);R=ut.label,J[3]=R;var dt=J[22];x=(ut.anchorX-dt)*this.pixelRatio,J[4]=x;var ft=J[23];m=(ut.anchorY-ft)*this.pixelRatio,J[5]=m,it=R.height,J[7]=it,ot=R.width,J[14]=ot}var ct=void 0;J.length>24&&(ct=J[24]);var pt=void 0,vt=void 0,_t=void 0;J.length>16?(pt=J[15],vt=J[16],_t=J[17]):(pt=l.defaultPadding,vt=!1,_t=!1),lt&&X?nt+=G:lt||X||(nt-=G);for(var gt=0,xt=0;W<g;W+=2)if(!(ct&&ct[gt++]<ot/this.pixelRatio)){if(L){var mt=Math.floor(xt);k=L.length<mt+1?[L[0][0]]:L[mt]}(qt=this.replayImageOrLabel_(e,a,_[W],_[W+1],R,x,m,k,it,at,st,rt,nt,ht,c,ot,pt,vt?j:null,_t?B:null))&&k&&L[L.length-1]!==k&&L.push(k),k&&(k.length-1===k[0]&&this.declutterItems.push(this,k,O),xt+=1/k[0])}++D;break;case t.default.DRAW_CHARS:var Tt=J[1],yt=J[2],bt=J[3];k=p?null:J[4];var St=J[5];w=J[6];var kt=J[7],Lt=J[8],Rt=J[9];M=J[10];var It=J[11];I=J[12],E=J[13];var Et=[J[14],J[14]],Mt=this.textStates[E],wt=Mt.font,Ot=[Mt.scale[0]*Lt,Mt.scale[1]*Lt],At=void 0;wt in this.widths_?At=this.widths_[wt]:(At={},this.widths_[wt]=At);var Ct=(0,o.lineStringLength)(_,Tt,yt,2),Dt=Math.abs(Ot[0])*(0,l.measureAndCacheTextWidth)(wt,I,At);if(St||Dt<=Ct){var Pt=this.textStates[E].textAlign,Wt=(Ct-Dt)*i.TEXT_ALIGN[Pt],Nt=(0,n.drawTextOnPath)(_,Tt,yt,2,I,Wt,kt,Math.abs(Ot[0]),l.measureAndCacheTextWidth,wt,At,X?0:this.viewRotation_);if(Nt){var qt=!1,jt=void 0,Bt=void 0,Ft=void 0,Gt=void 0,Xt=void 0;if(M)for(jt=0,Bt=Nt.length;jt<Bt;++jt)Ft=(Xt=Nt[jt])[4],Gt=this.createLabel(Ft,E,\"\",M),x=Xt[2]+It,m=bt*Gt.height+2*(.5-bt)*It*Ot[1]/Ot[0]-Rt,qt=this.replayImageOrLabel_(e,a,Xt[0],Xt[1],Gt,x,m,k,Gt.height,1,0,0,Xt[3],Et,!1,Gt.width,l.defaultPadding,null,null)||qt;if(w)for(jt=0,Bt=Nt.length;jt<Bt;++jt)Ft=(Xt=Nt[jt])[4],Gt=this.createLabel(Ft,E,w,\"\"),x=Xt[2],m=bt*Gt.height-Rt,qt=this.replayImageOrLabel_(e,a,Xt[0],Xt[1],Gt,x,m,k,Gt.height,1,0,0,Xt[3],Et,!1,Gt.width,l.defaultPadding,null,null)||qt;qt&&this.declutterItems.push(this,k,O)}}++D;break;case t.default.END_GEOMETRY:if(void 0!==p){var Yt=p(O=J[1]);if(Yt)return Yt}++D;break;case t.default.FILL:H?N++:this.fill_(e),++D;break;case t.default.MOVE_TO_LINE_TO:for(W=J[1],g=J[2],A=_[W],S=(C=_[W+1])+.5|0,(b=A+.5|0)===T&&S===y||(e.moveTo(A,C),T=b,y=S),W+=2;W<g;W+=2)b=(A=_[W])+.5|0,S=(C=_[W+1])+.5|0,W!=g-2&&b===T&&S===y||(e.lineTo(A,C),T=b,y=S);++D;break;case t.default.SET_FILL_STYLE:j=J,this.alignFill_=J[2],N&&(this.fill_(e),N=0,q&&(e.stroke(),q=0)),e.fillStyle=J[1],++D;break;case t.default.SET_STROKE_STYLE:B=J,q&&(e.stroke(),q=0),this.setStrokeStyle_(e,J),++D;break;case t.default.STROKE:H?q++:e.stroke(),++D;break;default:++D}}N&&this.fill_(e),q&&e.stroke()},d.prototype.execute=function(t,e,i,a,s){this.viewRotation_=a,this.execute_(t,e,i,this.instructions,s,void 0,void 0)},d.prototype.executeHitDetection=function(t,e,i,a,s){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,a,s)},d}(),m=x;exports.default=m;"},"sourceMaps":null,"error":null,"hash":"693010f0bd30b42d3e4a07aa52a23790","cacheData":{"env":{}}}