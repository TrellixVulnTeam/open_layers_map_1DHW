{"id":"P20y","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../events/EventType.js","loc":{"line":17,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageArcGISRest.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"./Image.js","loc":{"line":18,"column":54},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageArcGISRest.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Image.js"},{"name":"../Image.js","loc":{"line":19,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageArcGISRest.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Image.js"},{"name":"../uri.js","loc":{"line":20,"column":29},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageArcGISRest.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/uri.js"},{"name":"../asserts.js","loc":{"line":21,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageArcGISRest.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/asserts.js"},{"name":"../obj.js","loc":{"line":22,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageArcGISRest.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/obj.js"},{"name":"../extent.js","loc":{"line":23,"column":52},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageArcGISRest.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=p(require(\"../events/EventType.js\")),e=u(require(\"./Image.js\")),i=p(require(\"../Image.js\")),r=require(\"../uri.js\"),n=require(\"../asserts.js\"),o=require(\"../obj.js\"),a=require(\"../extent.js\");function s(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(s=function(t){return t?i:e})(t)}function u(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var i=s(e);if(i&&i.has(t))return i.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,i&&i.set(t,r),r}function p(t){return t&&t.__esModule?t:{default:t}}var g=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),c=function(s){function u(t){var i=this,r=t||{};return(i=s.call(this,{attributions:r.attributions,imageSmoothing:r.imageSmoothing,projection:r.projection,resolutions:r.resolutions})||this).crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,i.hidpi_=void 0===r.hidpi||r.hidpi,i.url_=r.url,i.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:e.defaultImageLoadFunction,i.params_=r.params||{},i.image_=null,i.imageSize_=[0,0],i.renderedRevision_=0,i.ratio_=void 0!==r.ratio?r.ratio:1.5,i}return g(u,s),u.prototype.getParams=function(){return this.params_},u.prototype.getImageInternal=function(e,r,n,s){if(void 0===this.url_)return null;r=this.findNearestResolution(r),n=this.hidpi_?n:1;var u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==r&&u.getPixelRatio()==n&&(0,a.containsExtent)(u.getExtent(),e))return u;var p={F:\"image\",FORMAT:\"PNG32\",TRANSPARENT:!0};(0,o.assign)(p,this.params_);var g=((e=e.slice())[0]+e[2])/2,c=(e[1]+e[3])/2;if(1!=this.ratio_){var h=this.ratio_*(0,a.getWidth)(e)/2,l=this.ratio_*(0,a.getHeight)(e)/2;e[0]=g-h,e[1]=c-l,e[2]=g+h,e[3]=c+l}var d=r/n,_=Math.ceil((0,a.getWidth)(e)/d),f=Math.ceil((0,a.getHeight)(e)/d);e[0]=g-d*_/2,e[2]=g+d*_/2,e[1]=c-d*f/2,e[3]=c+d*f/2,this.imageSize_[0]=_,this.imageSize_[1]=f;var m=this.getRequestUrl_(e,this.imageSize_,n,s,p);return this.image_=new i.default(e,r,n,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(t.default.CHANGE,this.handleImageChange.bind(this)),this.image_},u.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},u.prototype.getRequestUrl_=function(t,e,i,o,a){var s=o.getCode().split(\":\").pop();a.SIZE=e[0]+\",\"+e[1],a.BBOX=t.join(\",\"),a.BBOXSR=s,a.IMAGESR=s,a.DPI=Math.round(90*i);var u=this.url_,p=u.replace(/MapServer\\/?$/,\"MapServer/export\").replace(/ImageServer\\/?$/,\"ImageServer/exportImage\");return p==u&&(0,n.assert)(!1,50),(0,r.appendParams)(p,a)},u.prototype.getUrl=function(){return this.url_},u.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},u.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},u.prototype.updateParams=function(t){(0,o.assign)(this.params_,t),this.image_=null,this.changed()},u}(e.default),h=c;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"d1dd7d367ae5e558d464f3dd58c21ded","cacheData":{"env":{}}}