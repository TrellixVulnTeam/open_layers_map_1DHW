{"id":"e4Kb","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"./common.js","loc":{"line":17,"column":36},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/common.js"},{"name":"../events/EventType.js","loc":{"line":18,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"./Image.js","loc":{"line":19,"column":54},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Image.js"},{"name":"../Image.js","loc":{"line":20,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Image.js"},{"name":"./WMSServerType.js","loc":{"line":21,"column":26},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/WMSServerType.js"},{"name":"../uri.js","loc":{"line":22,"column":29},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/uri.js"},{"name":"../asserts.js","loc":{"line":23,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/asserts.js"},{"name":"../obj.js","loc":{"line":24,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/obj.js"},{"name":"../reproj.js","loc":{"line":25,"column":42},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj.js"},{"name":"../string.js","loc":{"line":26,"column":32},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/string.js"},{"name":"../extent.js","loc":{"line":27,"column":83},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"},{"name":"../proj.js","loc":{"line":28,"column":48},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/ImageWMS.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/proj.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"./common.js\"),t=d(require(\"../events/EventType.js\")),i=c(require(\"./Image.js\")),r=d(require(\"../Image.js\")),n=d(require(\"./WMSServerType.js\")),o=require(\"../uri.js\"),a=require(\"../asserts.js\"),s=require(\"../obj.js\"),u=require(\"../reproj.js\"),h=require(\"../string.js\"),p=require(\"../extent.js\"),g=require(\"../proj.js\");function _(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(_=function(e){return e?i:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var i=_(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,i&&i.set(e,r),r}function d(e){return e&&e.__esModule?e:{default:e}}var l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),f=[101,101],v=function(_){function c(e){var t=this,r=e||{};return(t=_.call(this,{attributions:r.attributions,imageSmoothing:r.imageSmoothing,projection:r.projection,resolutions:r.resolutions})||this).crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,t.url_=r.url,t.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:i.defaultImageLoadFunction,t.params_=r.params||{},t.v13_=!0,t.updateV13_(),t.serverType_=r.serverType,t.hidpi_=void 0===r.hidpi||r.hidpi,t.image_=null,t.imageSize_=[0,0],t.renderedRevision_=0,t.ratio_=void 0!==r.ratio?r.ratio:1.5,t}return l(c,_),c.prototype.getFeatureInfoUrl=function(t,i,r,n){if(void 0!==this.url_){var o=(0,g.get)(r),a=this.getProjection();a&&a!==o&&(i=(0,u.calculateSourceResolution)(a,o,t,i),t=(0,g.transform)(t,o,a));var h=(0,p.getForViewAndSize)(t,i,0,f),_={SERVICE:\"WMS\",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:\"GetFeatureInfo\",FORMAT:\"image/png\",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,s.assign)(_,this.params_,n);var c=Math.floor((t[0]-h[0])/i),d=Math.floor((h[3]-t[1])/i);return _[this.v13_?\"I\":\"X\"]=c,_[this.v13_?\"J\":\"Y\"]=d,this.getRequestUrl_(h,f,1,a||o,_)}},c.prototype.getLegendUrl=function(t,i){if(void 0!==this.url_){var r={SERVICE:\"WMS\",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:\"GetLegendGraphic\",FORMAT:\"image/png\"};if(void 0===i||void 0===i.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==t){var a=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*a*39.37*(25.4/.28)}return(0,s.assign)(r,i),(0,o.appendParams)(this.url_,r)}},c.prototype.getParams=function(){return this.params_},c.prototype.getImageInternal=function(i,n,o,a){if(void 0===this.url_)return null;n=this.findNearestResolution(n),1==o||this.hidpi_&&void 0!==this.serverType_||(o=1);var u=n/o,h=(0,p.getCenter)(i),g=Math.ceil((0,p.getWidth)(i)/u),_=Math.ceil((0,p.getHeight)(i)/u),c=(0,p.getForViewAndSize)(h,u,0,[g,_]),d=Math.ceil(this.ratio_*(0,p.getWidth)(i)/u),l=Math.ceil(this.ratio_*(0,p.getHeight)(i)/u),f=(0,p.getForViewAndSize)(h,u,0,[d,l]),v=this.image_;if(v&&this.renderedRevision_==this.getRevision()&&v.getResolution()==n&&v.getPixelRatio()==o&&(0,p.containsExtent)(v.getExtent(),c))return v;var S={SERVICE:\"WMS\",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:\"GetMap\",FORMAT:\"image/png\",TRANSPARENT:!0};(0,s.assign)(S,this.params_),this.imageSize_[0]=Math.round((0,p.getWidth)(f)/u),this.imageSize_[1]=Math.round((0,p.getHeight)(f)/u);var R=this.getRequestUrl_(f,this.imageSize_,o,a,S);return this.image_=new r.default(f,n,o,R,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(t.default.CHANGE,this.handleImageChange.bind(this)),this.image_},c.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},c.prototype.getRequestUrl_=function(e,t,i,r,s){if((0,a.assert)(void 0!==this.url_,9),s[this.v13_?\"CRS\":\"SRS\"]=r.getCode(),\"STYLES\"in this.params_||(s.STYLES=\"\"),1!=i)switch(this.serverType_){case n.default.GEOSERVER:var u=90*i+.5|0;\"FORMAT_OPTIONS\"in s?s.FORMAT_OPTIONS+=\";dpi:\"+u:s.FORMAT_OPTIONS=\"dpi:\"+u;break;case n.default.MAPSERVER:s.MAP_RESOLUTION=90*i;break;case n.default.CARMENTA_SERVER:case n.default.QGIS:s.DPI=90*i;break;default:(0,a.assert)(!1,8)}s.WIDTH=t[0],s.HEIGHT=t[1];var h,p=r.getAxisOrientation();return h=this.v13_&&\"ne\"==p.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,s.BBOX=h.join(\",\"),(0,o.appendParams)(this.url_,s)},c.prototype.getUrl=function(){return this.url_},c.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},c.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},c.prototype.updateParams=function(e){(0,s.assign)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},c.prototype.updateV13_=function(){var t=this.params_.VERSION||e.DEFAULT_WMS_VERSION;this.v13_=(0,h.compareVersions)(t,\"1.3\")>=0},c}(i.default),S=v;exports.default=S;"},"sourceMaps":null,"error":null,"hash":"9c4923799de65e812e5897a014b2f479","cacheData":{"env":{}}}