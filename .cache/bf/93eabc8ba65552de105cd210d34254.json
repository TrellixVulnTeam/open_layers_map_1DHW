{"id":"sV2m","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../events/EventType.js","loc":{"line":17,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"../Feature.js","loc":{"line":18,"column":20},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Feature.js"},{"name":"../geom/GeometryType.js","loc":{"line":19,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/GeometryType.js"},{"name":"../geom/Point.js","loc":{"line":20,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/Point.js"},{"name":"./Vector.js","loc":{"line":21,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js"},{"name":"../coordinate.js","loc":{"line":22,"column":63},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/coordinate.js"},{"name":"../asserts.js","loc":{"line":23,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/asserts.js"},{"name":"../extent.js","loc":{"line":24,"column":66},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"},{"name":"../util.js","loc":{"line":25,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Cluster.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/util.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=c(require(\"../events/EventType.js\")),t=c(require(\"../Feature.js\")),r=c(require(\"../geom/GeometryType.js\")),o=c(require(\"../geom/Point.js\")),s=c(require(\"./Vector.js\")),i=require(\"../coordinate.js\"),n=require(\"../asserts.js\"),u=require(\"../extent.js\"),a=require(\"../util.js\");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),h=function(s){function c(e){var t=s.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return t.resolution=void 0,t.distance=void 0!==e.distance?e.distance:20,t.features=[],t.geometryFunction=e.geometryFunction||function(e){var t=e.getGeometry();return(0,n.assert)(t.getType()==r.default.POINT,10),t},t.boundRefresh_=t.refresh.bind(t),t.setSource(e.source||null),t}return f(c,s),c.prototype.clear=function(e){this.features.length=0,s.prototype.clear.call(this,e)},c.prototype.getDistance=function(){return this.distance},c.prototype.getSource=function(){return this.source},c.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},c.prototype.setDistance=function(e){this.distance=e,this.refresh()},c.prototype.setSource=function(t){this.source&&this.source.removeEventListener(e.default.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(e.default.CHANGE,this.boundRefresh_),this.refresh()},c.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},c.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var e=(0,u.createEmpty)(),t=this.distance*this.resolution,r=this.source.getFeatures(),o={},s=0,i=r.length;s<i;s++){var n=r[s];if(!((0,a.getUid)(n)in o)){var c=this.geometryFunction(n);if(c){var f=c.getCoordinates();(0,u.createOrUpdateFromCoordinate)(f,e),(0,u.buffer)(e,t,e);var h=this.source.getFeaturesInExtent(e);h=h.filter(function(e){var t=(0,a.getUid)(e);return!(t in o)&&(o[t]=!0,!0)}),this.features.push(this.createCluster(h))}}}},c.prototype.createCluster=function(e){for(var r=[0,0],s=e.length-1;s>=0;--s){var n=this.geometryFunction(e[s]);n?(0,i.add)(r,n.getCoordinates()):e.splice(s,1)}(0,i.scale)(r,1/e.length);var u=new t.default(new o.default(r));return u.set(\"features\",e),u},c}(s.default),l=h;exports.default=l;"},"sourceMaps":null,"error":null,"hash":"7ad999611e348f1442cd10b15c028bca","cacheData":{"env":{}}}