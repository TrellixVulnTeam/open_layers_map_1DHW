{"id":"FFf1","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../asserts.js","loc":{"line":11,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/format/IIIFInfo.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/asserts.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=exports.Versions=void 0;var e=require(\"../asserts.js\"),i=function(){for(var e=0,i=0,t=arguments.length;i<t;i++)e+=arguments[i].length;var o=Array(e),r=0;for(i=0;i<t;i++)for(var s=arguments[i],a=0,n=s.length;a<n;a++,r++)o[r]=s[a];return o},t={VERSION1:\"version1\",VERSION2:\"version2\",VERSION3:\"version3\"};exports.Versions=t;var o={};o[t.VERSION1]={level0:{supports:[],formats:[],qualities:[\"native\"]},level1:{supports:[\"regionByPx\",\"sizeByW\",\"sizeByH\",\"sizeByPct\"],formats:[\"jpg\"],qualities:[\"native\"]},level2:{supports:[\"regionByPx\",\"regionByPct\",\"sizeByW\",\"sizeByH\",\"sizeByPct\",\"sizeByConfinedWh\",\"sizeByWh\"],formats:[\"jpg\",\"png\"],qualities:[\"native\",\"color\",\"grey\",\"bitonal\"]}},o[t.VERSION2]={level0:{supports:[],formats:[\"jpg\"],qualities:[\"default\"]},level1:{supports:[\"regionByPx\",\"sizeByW\",\"sizeByH\",\"sizeByPct\"],formats:[\"jpg\"],qualities:[\"default\"]},level2:{supports:[\"regionByPx\",\"regionByPct\",\"sizeByW\",\"sizeByH\",\"sizeByPct\",\"sizeByConfinedWh\",\"sizeByDistortedWh\",\"sizeByWh\"],formats:[\"jpg\",\"png\"],qualities:[\"default\",\"bitonal\"]}},o[t.VERSION3]={level0:{supports:[],formats:[\"jpg\"],qualities:[\"default\"]},level1:{supports:[\"regionByPx\",\"regionSquare\",\"sizeByW\",\"sizeByH\",\"sizeByWh\"],formats:[\"jpg\"],qualities:[\"default\"]},level2:{supports:[\"regionByPx\",\"regionSquare\",\"regionByPct\",\"sizeByW\",\"sizeByH\",\"sizeByPct\",\"sizeByConfinedWh\",\"sizeByWh\"],formats:[\"jpg\",\"png\"],qualities:[\"default\"]}},o.none={none:{supports:[],formats:[],qualities:[]}};var r=/^https?:\\/\\/library\\.stanford\\.edu\\/iiif\\/image-api\\/(?:1\\.1\\/)?compliance\\.html#level[0-2]$/,s=/^https?:\\/\\/iiif\\.io\\/api\\/image\\/2\\/level[0-2](?:\\.json)?$/,a=/(^https?:\\/\\/iiif\\.io\\/api\\/image\\/3\\/level[0-2](?:\\.json)?$)|(^level[0-2]$)/;function n(e){var r=e.getComplianceLevelSupportedFeatures();return void 0===r&&(r=o[t.VERSION1].level0),{url:void 0===e.imageInfo[\"@id\"]?void 0:e.imageInfo[\"@id\"].replace(/\\/?(?:info\\.json)?$/g,\"\"),supports:r.supports,formats:i(r.formats,[void 0===e.imageInfo.formats?[]:e.imageInfo.formats]),qualities:i(r.qualities,[void 0===e.imageInfo.qualities?[]:e.imageInfo.qualities]),resolutions:e.imageInfo.scale_factors,tileSize:void 0!==e.imageInfo.tile_width?void 0!==e.imageInfo.tile_height?[e.imageInfo.tile_width,e.imageInfo.tile_height]:[e.imageInfo.tile_width,e.imageInfo.tile_width]:null!=e.imageInfo.tile_height?[e.imageInfo.tile_height,e.imageInfo.tile_height]:void 0}}function f(e){var t=e.getComplianceLevelSupportedFeatures(),o=Array.isArray(e.imageInfo.profile)&&e.imageInfo.profile.length>1,r=o&&e.imageInfo.profile[1].supports?e.imageInfo.profile[1].supports:[],s=o&&e.imageInfo.profile[1].formats?e.imageInfo.profile[1].formats:[],a=o&&e.imageInfo.profile[1].qualities?e.imageInfo.profile[1].qualities:[];return{url:e.imageInfo[\"@id\"].replace(/\\/?(?:info\\.json)?$/g,\"\"),sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(e){return e.width})[0],e.imageInfo.tiles.map(function(e){return void 0===e.height?e.width:e.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:i(t.supports,r),formats:i(t.formats,s),qualities:i(t.qualities,a)}}function l(e){var t=e.getComplianceLevelSupportedFeatures(),o=void 0===e.imageInfo.extraFormats?t.formats:i(t.formats,e.imageInfo.extraFormats),r=void 0!==e.imageInfo.preferredFormats&&Array.isArray(e.imageInfo.preferredFormats)&&e.imageInfo.preferredFormats.length>0?e.imageInfo.preferredFormats.filter(function(e){return[\"jpg\",\"png\",\"gif\"].includes(e)}).reduce(function(e,i){return void 0===e&&o.includes(i)?i:e},void 0):void 0;return{url:e.imageInfo.id,sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(e){return e.width})[0],e.imageInfo.tiles.map(function(e){return e.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:void 0===e.imageInfo.extraFeatures?t.supports:i(t.supports,e.imageInfo.extraFeatures),formats:o,qualities:void 0===e.imageInfo.extraQualities?t.qualities:i(t.qualities,e.imageInfo.extraQualities),preferredFormat:r}}var p={};p[t.VERSION1]=n,p[t.VERSION2]=f,p[t.VERSION3]=l;var g=function(){function i(e){this.setImageInfo(e)}return i.prototype.setImageInfo=function(e){this.imageInfo=\"string\"==typeof e?JSON.parse(e):e},i.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var i=this.imageInfo[\"@context\"]||\"ol-no-context\";\"string\"==typeof i&&(i=[i]);for(var o=0;o<i.length;o++)switch(i[o]){case\"http://library.stanford.edu/iiif/image-api/1.1/context.json\":case\"http://iiif.io/api/image/1/context.json\":return t.VERSION1;case\"http://iiif.io/api/image/2/context.json\":return t.VERSION2;case\"http://iiif.io/api/image/3/context.json\":return t.VERSION3;case\"ol-no-context\":if(this.getComplianceLevelEntryFromProfile(t.VERSION1)&&this.imageInfo.identifier)return t.VERSION1}(0,e.assert)(!1,61)}},i.prototype.getComplianceLevelEntryFromProfile=function(e){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===e&&(e=this.getImageApiVersion()),e){case t.VERSION1:if(r.test(this.imageInfo.profile))return this.imageInfo.profile;break;case t.VERSION3:if(a.test(this.imageInfo.profile))return this.imageInfo.profile;break;case t.VERSION2:if(\"string\"==typeof this.imageInfo.profile&&s.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&\"string\"==typeof this.imageInfo.profile[0]&&s.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},i.prototype.getComplianceLevelFromProfile=function(e){var i=this.getComplianceLevelEntryFromProfile(e);if(void 0!==i){var t=i.match(/level[0-2](?:\\.json)?$/g);return Array.isArray(t)?t[0].replace(\".json\",\"\"):void 0}},i.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var e=this.getImageApiVersion(),i=this.getComplianceLevelFromProfile(e);return void 0===i?o.none.none:o[e][i]}},i.prototype.getTileSourceOptions=function(e){var i=e||{},t=this.getImageApiVersion();if(void 0!==t){var o=void 0===t?void 0:p[t](this);if(void 0!==o)return{url:o.url,version:t,size:[this.imageInfo.width,this.imageInfo.height],sizes:o.sizes,format:void 0!==i.format&&o.formats.includes(i.format)?i.format:void 0!==o.preferredFormat?o.preferredFormat:\"jpg\",supports:o.supports,quality:i.quality&&o.qualities.includes(i.quality)?i.quality:o.qualities.includes(\"native\")?\"native\":\"default\",resolutions:Array.isArray(o.resolutions)?o.resolutions.sort(function(e,i){return i-e}):void 0,tileSize:o.tileSize}}},i}(),u=g;exports.default=u;"},"sourceMaps":null,"error":null,"hash":"b8fde19fbed6fffbc2968bfee90daae5","cacheData":{"env":{}}}