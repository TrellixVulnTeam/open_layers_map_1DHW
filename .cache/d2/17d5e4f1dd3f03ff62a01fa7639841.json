{"id":"WlOd","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"./common.js","loc":{"line":17,"column":32},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/common.js"},{"name":"../events/EventType.js","loc":{"line":18,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"../Tile.js","loc":{"line":19,"column":17},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Tile.js"},{"name":"../TileState.js","loc":{"line":20,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/TileState.js"},{"name":"./Triangulation.js","loc":{"line":21,"column":26},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Triangulation.js"},{"name":"../reproj.js","loc":{"line":22,"column":78},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj.js"},{"name":"../math.js","loc":{"line":23,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/math.js"},{"name":"../extent.js","loc":{"line":24,"column":41},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"},{"name":"../events.js","loc":{"line":25,"column":38},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/reproj/Tile.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"./common.js\"),t=l(require(\"../events/EventType.js\")),r=l(require(\"../Tile.js\")),i=l(require(\"../TileState.js\")),s=l(require(\"./Triangulation.js\")),o=require(\"../reproj.js\"),n=require(\"../math.js\"),u=require(\"../extent.js\"),a=require(\"../events.js\");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),d=function(r){function l(t,a,l,c,d,_,f,h,g,p,T,E){var v=r.call(this,d,i.default.IDLE)||this;v.renderEdges_=void 0!==T&&T,v.contextOptions_=E,v.pixelRatio_=f,v.gutter_=h,v.canvas_=null,v.sourceTileGrid_=a,v.targetTileGrid_=c,v.wrappedTileCoord_=_||d,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var y=c.getTileCoordExtent(v.wrappedTileCoord_),x=v.targetTileGrid_.getExtent(),R=v.sourceTileGrid_.getExtent(),j=x?(0,u.getIntersection)(y,x):y;if(0===(0,u.getArea)(j))return v.state=i.default.EMPTY,v;var O=t.getExtent();O&&(R=R?(0,u.getIntersection)(R,O):O);var m=c.getResolution(v.wrappedTileCoord_[0]),L=(0,o.calculateSourceExtentResolution)(t,l,j,m);if(!isFinite(L)||L<=0)return v.state=i.default.EMPTY,v;var D=void 0!==p?p:e.ERROR_THRESHOLD;if(v.triangulation_=new s.default(t,l,j,R,L*D,m),0===v.triangulation_.getTriangles().length)return v.state=i.default.EMPTY,v;v.sourceZ_=a.getZForResolution(L);var G=v.triangulation_.calculateSourceExtent();if(R&&(t.canWrapX()?(G[1]=(0,n.clamp)(G[1],R[1],R[3]),G[3]=(0,n.clamp)(G[3],R[1],R[3])):G=(0,u.getIntersection)(G,R)),(0,u.getArea)(G)){for(var I=a.getTileRangeForExtentAndZ(G,v.sourceZ_),S=I.minX;S<=I.maxX;S++)for(var A=I.minY;A<=I.maxY;A++){var C=g(v.sourceZ_,S,A,f);C&&v.sourceTiles_.push(C)}0===v.sourceTiles_.length&&(v.state=i.default.EMPTY)}else v.state=i.default.EMPTY;return v}return c(l,r),l.prototype.getImage=function(){return this.canvas_},l.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,r,s){t&&t.getState()==i.default.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=i.default.ERROR;else{var t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),s=\"number\"==typeof r?r:r[0],n=\"number\"==typeof r?r:r[1],u=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,o.render)(s,n,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),u,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=i.default.LOADED}this.changed()},l.prototype.load=function(){if(this.state==i.default.IDLE){this.state=i.default.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,s,o){var n=r.getState();if(n==i.default.IDLE||n==i.default.LOADING){e++;var u=(0,a.listen)(r,t.default.CHANGE,function(t){var s=r.getState();s!=i.default.LOADED&&s!=i.default.ERROR&&s!=i.default.EMPTY||((0,a.unlistenByKey)(u),0===--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(u)}}.bind(this)),this.sourceTiles_.forEach(function(e,t,r){e.getState()==i.default.IDLE&&e.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},l.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(a.unlistenByKey),this.sourcesListenerKeys_=null},l}(r.default),_=d;exports.default=_;"},"sourceMaps":null,"error":null,"hash":"9c8aa25361d20d3e56e3c2ae072c2f1e","cacheData":{"env":{}}}