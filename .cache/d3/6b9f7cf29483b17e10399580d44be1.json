{"id":"e7i2","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../geom/Circle.js","loc":{"line":17,"column":19},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/Circle.js"},{"name":"../events/Event.js","loc":{"line":18,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/Event.js"},{"name":"../events/EventType.js","loc":{"line":19,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"../Feature.js","loc":{"line":20,"column":20},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Feature.js"},{"name":"../geom/GeometryType.js","loc":{"line":21,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/GeometryType.js"},{"name":"./Property.js","loc":{"line":22,"column":32},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Property.js"},{"name":"../geom/LineString.js","loc":{"line":23,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/LineString.js"},{"name":"../MapBrowserEvent.js","loc":{"line":24,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/MapBrowserEvent.js"},{"name":"../MapBrowserEventType.js","loc":{"line":25,"column":32},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/MapBrowserEventType.js"},{"name":"../geom/MultiLineString.js","loc":{"line":26,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/MultiLineString.js"},{"name":"../geom/MultiPoint.js","loc":{"line":27,"column":23},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/MultiPoint.js"},{"name":"../geom/MultiPolygon.js","loc":{"line":28,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/MultiPolygon.js"},{"name":"../geom/Point.js","loc":{"line":29,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/Point.js"},{"name":"./Pointer.js","loc":{"line":30,"column":31},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Pointer.js"},{"name":"../geom/Polygon.js","loc":{"line":31,"column":49},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/Polygon.js"},{"name":"../layer/Vector.js","loc":{"line":32,"column":24},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/layer/Vector.js"},{"name":"../source/Vector.js","loc":{"line":33,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/source/Vector.js"},{"name":"../functions.js","loc":{"line":34,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/functions.js"},{"name":"../events/condition.js","loc":{"line":35,"column":53},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/condition.js"},{"name":"../extent.js","loc":{"line":36,"column":88},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"},{"name":"../style/Style.js","loc":{"line":37,"column":35},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/style/Style.js"},{"name":"../proj.js","loc":{"line":38,"column":54},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/proj.js"},{"name":"../Object.js","loc":{"line":39,"column":35},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Object.js"},{"name":"../coordinate.js","loc":{"line":40,"column":61},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Draw.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/coordinate.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createRegularPolygon=R,exports.createBox=j,exports.default=void 0;var t=L(require(\"../geom/Circle.js\")),e=L(require(\"../events/Event.js\")),i=L(require(\"../events/EventType.js\")),o=L(require(\"../Feature.js\")),s=L(require(\"../geom/GeometryType.js\")),r=L(require(\"./Property.js\")),n=L(require(\"../geom/LineString.js\")),a=L(require(\"../MapBrowserEvent.js\")),h=L(require(\"../MapBrowserEventType.js\")),d=L(require(\"../geom/MultiLineString.js\")),u=L(require(\"../geom/MultiPoint.js\")),_=L(require(\"../geom/MultiPolygon.js\")),c=L(require(\"../geom/Point.js\")),l=L(require(\"./Pointer.js\")),f=O(require(\"../geom/Polygon.js\")),p=L(require(\"../layer/Vector.js\")),g=L(require(\"../source/Vector.js\")),y=require(\"../functions.js\"),m=require(\"../events/condition.js\"),C=require(\"../extent.js\"),v=require(\"../style/Style.js\"),P=require(\"../proj.js\"),k=require(\"../Object.js\"),T=require(\"../coordinate.js\");function w(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(w=function(t){return t?i:e})(t)}function O(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var i=w(e);if(i&&i.has(t))return i.get(t);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(\"default\"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var n=s?Object.getOwnPropertyDescriptor(t,r):null;n&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=t[r]}return o.default=t,i&&i.set(t,o),o}function L(t){return t&&t.__esModule?t:{default:t}}var N=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),D={POINT:\"Point\",LINE_STRING:\"LineString\",POLYGON:\"Polygon\",CIRCLE:\"Circle\"},I={DRAWSTART:\"drawstart\",DRAWEND:\"drawend\",DRAWABORT:\"drawabort\"},E=function(t){function e(e,i){var o=t.call(this,e)||this;return o.feature=i,o}return N(e,t),e}(e.default),G=function(e){function l(i){var o=this,a=i;a.stopDown||(a.stopDown=y.FALSE),(o=e.call(this,a)||this).shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.freehand_=!1,o.source_=i.source?i.source:null,o.features_=i.features?i.features:null,o.snapTolerance_=i.snapTolerance?i.snapTolerance:12,o.type_=i.type,o.mode_=M(o.type_),o.stopClick_=!!i.stopClick,o.minPoints_=i.minPoints?i.minPoints:o.mode_===D.POLYGON?3:2,o.maxPoints_=i.maxPoints?i.maxPoints:1/0,o.finishCondition_=i.finishCondition?i.finishCondition:y.TRUE;var h=i.geometryFunction;if(!h)if(o.type_===s.default.CIRCLE)h=function(e,i,o){var s=i||new t.default([NaN,NaN]),r=(0,P.fromUserCoordinate)(e[0],o),n=(0,T.squaredDistance)(r,(0,P.fromUserCoordinate)(e[1],o));s.setCenterAndRadius(r,Math.sqrt(n));var a=(0,P.getUserProjection)();return a&&s.transform(o,a),s};else{var d,u=o.mode_;u===D.POINT?d=c.default:u===D.LINE_STRING?d=n.default:u===D.POLYGON&&(d=f.default),h=function(t,e,i){var o=e;return o?u===D.POLYGON?t[0].length?o.setCoordinates([t[0].concat([t[0][0]])]):o.setCoordinates([]):o.setCoordinates(t):o=new d(t),o}}return o.geometryFunction_=h,o.dragVertexDelay_=void 0!==i.dragVertexDelay?i.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=i.clickTolerance?i.clickTolerance*i.clickTolerance:36,o.overlay_=new p.default({source:new g.default({useSpatialIndex:!1,wrapX:!!i.wrapX&&i.wrapX}),style:i.style?i.style:F(),updateWhileInteracting:!0}),o.geometryName_=i.geometryName,o.condition_=i.condition?i.condition:m.noModifierKeys,o.freehandCondition_,i.freehand?o.freehandCondition_=m.always:o.freehandCondition_=i.freehandCondition?i.freehandCondition:m.shiftKeyOnly,o.addEventListener((0,k.getChangeEventType)(r.default.ACTIVE),o.updateState_),o}return N(l,e),l.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},l.prototype.getOverlay=function(){return this.overlay_},l.prototype.handleEvent=function(t){t.originalEvent.type===i.default.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==D.POINT&&this.freehandCondition_(t);var o=t.type===h.default.POINTERMOVE,s=!0;!this.freehand_&&this.lastDragTime_&&t.type===h.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===h.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),s=!1):this.freehand_&&t.type===h.default.POINTERDOWN?s=!1:o?(s=t.type===h.default.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.preventDefault()):(\"mouse\"==t.originalEvent.pointerType||t.type===h.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===h.default.DBLCLICK&&(s=!1),e.prototype.handleEvent.call(this,t)&&s},l.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a.default(h.default.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},l.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===D.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate):(this.startDrawing_(t),this.mode_===D.POINT&&this.finishDrawing()),e=!1):this.freehand_&&this.abortDrawing(),!e&&this.stopClick_&&t.stopPropagation(),e},l.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,o=e[0]-i[0],s=e[1]-i[1],r=o*o+s*s;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t)},l.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,o=[this.finishCoordinate_];if(this.mode_===D.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===D.POLYGON){var s=this.sketchCoords_;i=s[0].length>this.minPoints_,o=[s[0][0],s[0][s[0].length-2]]}if(i)for(var r=t.map,n=0,a=o.length;n<a;n++){var h=o[n],d=r.getPixelFromCoordinate(h),u=t.pixel,_=u[0]-d[0],c=u[1]-d[1],l=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(_*_+c*c)<=l){this.finishCoordinate_=h;break}}}return e},l.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new o.default(new c.default(e)),this.updateSketchFeatures_())},l.prototype.startDrawing_=function(t){var e=t.coordinate,i=t.map.getView().getProjection();this.finishCoordinate_=e,this.mode_===D.POINT?this.sketchCoords_=e.slice():this.mode_===D.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new o.default(new n.default(this.sketchLineCoords_)));var s=this.geometryFunction_(this.sketchCoords_,void 0,i);this.sketchFeature_=new o.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(s),this.updateSketchFeatures_(),this.dispatchEvent(new E(I.DRAWSTART,this.sketchFeature_))},l.prototype.modifyDrawing_=function(t){var e,i,r,a=t.coordinate,h=this.sketchFeature_.getGeometry(),d=t.map.getView().getProjection();(this.mode_===D.POINT?i=this.sketchCoords_:this.mode_===D.POLYGON?(i=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(a=this.finishCoordinate_.slice())):i=(e=this.sketchCoords_)[e.length-1],i[0]=a[0],i[1]=a[1],this.geometryFunction_(this.sketchCoords_,h,d),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(a);if(h.getType()==s.default.POLYGON&&this.mode_!==D.POLYGON){this.sketchLine_||(this.sketchLine_=new o.default);var u=h.getLinearRing(0);(r=this.sketchLine_.getGeometry())?(r.setFlatCoordinates(u.getLayout(),u.getFlatCoordinates()),r.changed()):(r=new n.default(u.getFlatCoordinates(),u.getLayout()),this.sketchLine_.setGeometry(r))}else this.sketchLineCoords_&&(r=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},l.prototype.addToDrawing_=function(t){var e,i,o=this.sketchFeature_.getGeometry(),s=this.getMap().getView().getProjection();this.mode_===D.LINE_STRING?(this.finishCoordinate_=t.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),this.geometryFunction_(i,o,s)):this.mode_===D.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,o,s)),this.updateSketchFeatures_(),e&&this.finishDrawing()},l.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===D.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e,i),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===D.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,i)),0===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},l.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry(),o=this.getMap().getView().getProjection();this.mode_===D.LINE_STRING?(e.pop(),this.geometryFunction_(e,i,o)):this.mode_===D.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i,o),e=i.getCoordinates()),this.type_===s.default.MULTI_POINT?t.setGeometry(new u.default([e])):this.type_===s.default.MULTI_LINE_STRING?t.setGeometry(new d.default([e])):this.type_===s.default.MULTI_POLYGON&&t.setGeometry(new _.default([e])),this.dispatchEvent(new E(I.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},l.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},l.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new E(I.DRAWABORT,t))},l.prototype.appendCoordinates=function(t){var e=this.mode_,i=[];e===D.LINE_STRING?i=this.sketchCoords_:e===D.POLYGON&&(i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]);for(var o=i.pop(),s=0;s<t.length;s++)this.addToDrawing_(t[s]);this.addToDrawing_(o)},l.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new E(I.DRAWSTART,this.sketchFeature_))},l.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},l.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},l}(l.default);function F(){var t=(0,v.createEditingStyle)();return function(e,i){return t[e.getGeometry().getType()]}}function R(e,i){return function(o,s,r){var n=(0,P.fromUserCoordinate)(o[0],r),a=(0,P.fromUserCoordinate)(o[1],r),h=Math.sqrt((0,T.squaredDistance)(n,a)),d=s||(0,f.fromCircle)(new t.default(n),e),u=i;if(!i){var _=a[0]-n[0],c=a[1]-n[1];u=Math.atan(c/_)-(_<0?Math.PI:0)}(0,f.makeRegular)(d,n,h,u);var l=(0,P.getUserProjection)();return l&&d.transform(r,l),d}}function j(){return function(t,e,i){var o=(0,C.boundingExtent)(t.map(function(t){return(0,P.fromUserCoordinate)(t,i)})),s=[[(0,C.getBottomLeft)(o),(0,C.getBottomRight)(o),(0,C.getTopRight)(o),(0,C.getTopLeft)(o),(0,C.getBottomLeft)(o)]],r=e;r?r.setCoordinates(s):r=new f.default(s);var n=(0,P.getUserProjection)();return n&&r.transform(i,n),r}}function M(t){var e;return t===s.default.POINT||t===s.default.MULTI_POINT?e=D.POINT:t===s.default.LINE_STRING||t===s.default.MULTI_LINE_STRING?e=D.LINE_STRING:t===s.default.POLYGON||t===s.default.MULTI_POLYGON?e=D.POLYGON:t===s.default.CIRCLE&&(e=D.CIRCLE),e}var S=G;exports.default=S;"},"sourceMaps":null,"error":null,"hash":"5b718ae115f2e8319da0c8eae586783a","cacheData":{"env":{}}}