{"id":"KMhA","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../renderer/Composite.js","loc":{"line":17,"column":33},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/renderer/Composite.js"},{"name":"./Control.js","loc":{"line":18,"column":20},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/Control.js"},{"name":"../events/EventType.js","loc":{"line":19,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"../MapEventType.js","loc":{"line":20,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/MapEventType.js"},{"name":"../MapProperty.js","loc":{"line":21,"column":24},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/MapProperty.js"},{"name":"../ObjectEventType.js","loc":{"line":22,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/ObjectEventType.js"},{"name":"../Overlay.js","loc":{"line":23,"column":20},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Overlay.js"},{"name":"../OverlayPositioning.js","loc":{"line":24,"column":31},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/OverlayPositioning.js"},{"name":"../PluggableMap.js","loc":{"line":25,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/PluggableMap.js"},{"name":"../View.js","loc":{"line":26,"column":17},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/View.js"},{"name":"../ViewProperty.js","loc":{"line":27,"column":25},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/ViewProperty.js"},{"name":"../css.js","loc":{"line":28,"column":67},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/css.js"},{"name":"../extent.js","loc":{"line":29,"column":101},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/extent.js"},{"name":"../Object.js","loc":{"line":30,"column":35},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/Object.js"},{"name":"../events.js","loc":{"line":31,"column":35},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events.js"},{"name":"../geom/Polygon.js","loc":{"line":32,"column":48},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/geom/Polygon.js"},{"name":"../dom.js","loc":{"line":33,"column":28},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/control/OverviewMap.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/dom.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=f(require(\"../renderer/Composite.js\")),t=f(require(\"./Control.js\")),i=f(require(\"../events/EventType.js\")),o=f(require(\"../MapEventType.js\")),n=f(require(\"../MapProperty.js\")),a=f(require(\"../ObjectEventType.js\")),l=f(require(\"../Overlay.js\")),r=f(require(\"../OverlayPositioning.js\")),s=f(require(\"../PluggableMap.js\")),p=f(require(\"../View.js\")),d=f(require(\"../ViewProperty.js\")),h=require(\"../css.js\"),u=require(\"../extent.js\"),c=require(\"../Object.js\"),v=require(\"../events.js\"),_=require(\"../geom/Polygon.js\"),g=require(\"../dom.js\");function f(e){return e&&e.__esModule?e:{default:e}}var w=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),m=.75,b=.1,y=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return w(i,t),i.prototype.createRenderer=function(){return new e.default(this)},i}(s.default),E=function(e){function t(t){var o=this,n=t||{};(o=e.call(this,{element:document.createElement(\"div\"),render:n.render,target:n.target})||this).boundHandleRotationChanged_=o.handleRotationChanged_.bind(o),o.collapsed_=void 0===n.collapsed||n.collapsed,o.collapsible_=void 0===n.collapsible||n.collapsible,o.collapsible_||(o.collapsed_=!1),o.rotateWithView_=void 0!==n.rotateWithView&&n.rotateWithView,o.viewExtent_=void 0;var a=void 0!==n.className?n.className:\"ol-overviewmap\",s=void 0!==n.tipLabel?n.tipLabel:\"Overview map\",p=void 0!==n.collapseLabel?n.collapseLabel:\"«\";\"string\"==typeof p?(o.collapseLabel_=document.createElement(\"span\"),o.collapseLabel_.textContent=p):o.collapseLabel_=p;var d=void 0!==n.label?n.label:\"»\";\"string\"==typeof d?(o.label_=document.createElement(\"span\"),o.label_.textContent=d):o.label_=d;var u=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_,c=document.createElement(\"button\");c.setAttribute(\"type\",\"button\"),c.title=s,c.appendChild(u),c.addEventListener(i.default.CLICK,o.handleClick_.bind(o),!1),o.ovmapDiv_=document.createElement(\"div\"),o.ovmapDiv_.className=\"ol-overviewmap-map\",o.view_=n.view,o.ovmap_=new y({view:n.view});var v=o.ovmap_;n.layers&&n.layers.forEach(function(e){v.addLayer(e)});var _=document.createElement(\"div\");_.className=\"ol-overviewmap-box\",_.style.boxSizing=\"border-box\",o.boxOverlay_=new l.default({position:[0,0],positioning:r.default.CENTER_CENTER,element:_}),o.ovmap_.addOverlay(o.boxOverlay_);var g=a+\" \"+h.CLASS_UNSELECTABLE+\" \"+h.CLASS_CONTROL+(o.collapsed_&&o.collapsible_?\" \"+h.CLASS_COLLAPSED:\"\")+(o.collapsible_?\"\":\" ol-uncollapsible\"),f=o.element;f.className=g,f.appendChild(o.ovmapDiv_),f.appendChild(c);var w=o,m=o.boxOverlay_,b=o.boxOverlay_.getElement(),E=function(e){var t,i={clientX:(t=e).clientX,clientY:t.clientY},o=v.getEventCoordinateInternal(i);m.setPosition(o)},C=function(e){var t=v.getEventCoordinateInternal(e);w.getMap().getView().setCenterInternal(t),window.removeEventListener(\"mousemove\",E),window.removeEventListener(\"mouseup\",C)};return b.addEventListener(\"mousedown\",function(){window.addEventListener(\"mousemove\",E),window.addEventListener(\"mouseup\",C)}),o}return w(t,e),t.prototype.setMap=function(t){var i=this.getMap();if(t!==i){if(i){var o=i.getView();o&&this.unbindView_(o),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,v.listen)(t,a.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var n=t.getView();n&&(this.bindView_(n),n.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===n.default.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var i=this.getMap().getView();this.bindView_(i)}},t.prototype.bindView_=function(e){if(!this.view_){var t=new p.default({projection:e.getProjection()});this.ovmap_.setView(t)}e.addEventListener((0,c.getChangeEventType)(d.default.ROTATION),this.boundHandleRotationChanged_),this.handleRotationChanged_()},t.prototype.unbindView_=function(e){e.removeEventListener((0,c.getChangeEventType)(d.default.ROTATION),this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView().calculateExtentInternal(i);if(!this.viewExtent_||!(0,u.equals)(o,this.viewExtent_)){this.viewExtent_=o;var n=t.getSize(),a=t.getView().calculateExtentInternal(n),l=t.getPixelFromCoordinateInternal((0,u.getTopLeft)(o)),r=t.getPixelFromCoordinateInternal((0,u.getBottomRight)(o)),s=Math.abs(l[0]-r[0]),p=Math.abs(l[1]-r[1]),d=n[0],h=n[1];s<d*b||p<h*b||s>d*m||p>h*m?this.resetExtent_():(0,u.containsExtent)(a,o)||this.recenter_()}}},t.prototype.resetExtent_=function(){if(0!==m&&0!==b){var e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtentInternal(i),n=t.getView(),a=Math.log(m/b)/Math.LN2,l=1/(Math.pow(2,a/2)*b);(0,u.scaleFromCenter)(o,l),n.fitInternal((0,_.fromExtent)(o))}},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView(),n=t.getView(),a=this.rotateWithView_?0:-o.getRotation(),l=this.boxOverlay_,r=this.boxOverlay_.getElement(),s=o.getCenterInternal(),p=o.getResolution(),d=n.getResolution(),h=i[0]*p/d,u=i[1]*p/d;if(l.setPosition(s),r){r.style.width=h+\"px\",r.style.height=u+\"px\";var c=\"rotate(\"+a+\"rad)\";r.style.transform=c}}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(h.CLASS_COLLAPSED),this.collapsed_?(0,g.replaceNode)(this.collapseLabel_,this.label_):(0,g.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),(0,v.listenOnce)(e,o.default.POSTRENDER,function(e){this.updateBox_()},this)}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle(\"ol-uncollapsible\"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t.prototype.render=function(e){this.validateExtent_(),this.updateBox_()},t}(t.default),C=E;exports.default=C;"},"sourceMaps":null,"error":null,"hash":"a1d96dfe6e7e9796daf488d73187311c","cacheData":{"env":{}}}