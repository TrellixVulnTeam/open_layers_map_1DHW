{"id":"IYO6","dependencies":[{"name":"/Users/OKMG/Desktop/Work/open_layers_map/package.json","includedInParent":true,"mtime":1658712170300},{"name":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/package.json","includedInParent":true,"mtime":1658712211657},{"name":"../events/Event.js","loc":{"line":18,"column":18},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/Event.js"},{"name":"../events/EventType.js","loc":{"line":19,"column":22},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events/EventType.js"},{"name":"./Interaction.js","loc":{"line":20,"column":24},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/Interaction.js"},{"name":"../functions.js","loc":{"line":21,"column":21},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/functions.js"},{"name":"../proj.js","loc":{"line":22,"column":37},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/proj.js"},{"name":"../events.js","loc":{"line":23,"column":38},"parent":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/interaction/DragAndDrop.js","resolved":"/Users/OKMG/Desktop/Work/open_layers_map/node_modules/ol/events.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=o(require(\"../events/Event.js\")),e=o(require(\"../events/EventType.js\")),r=o(require(\"./Interaction.js\")),s=require(\"../functions.js\"),n=require(\"../proj.js\"),i=require(\"../events.js\");function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function s(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),u={ADD_FEATURES:\"addfeatures\"},p=function(t){function e(e,r,s,n){var i=t.call(this,e)||this;return i.features=s,i.file=r,i.projection=n,i}return a(e,t),e}(t.default),c=function(t){function r(e){var r=this,i=e||{};return(r=t.call(this,{handleEvent:s.TRUE})||this).formatConstructors_=i.formatConstructors?i.formatConstructors:[],r.projection_=i.projection?(0,n.get)(i.projection):null,r.dropListenKeys_=null,r.source_=i.source||null,r.target=i.target?i.target:null,r}return a(r,t),r.prototype.handleResult_=function(t,e){var r=e.target.result,s=this.getMap(),n=this.projection_;n||(n=s.getView().getProjection());for(var i=this.formatConstructors_,o=0,a=i.length;o<a;++o){var c=new i[o],l=this.tryReadFeatures_(c,r,{featureProjection:n});if(l&&l.length>0){this.source_&&(this.source_.clear(),this.source_.addFeatures(l)),this.dispatchEvent(new p(u.ADD_FEATURES,t,l,n));break}}},r.prototype.registerListeners_=function(){var t=this.getMap();if(t){var r=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,i.listen)(r,e.default.DROP,this.handleDrop,this),(0,i.listen)(r,e.default.DRAGENTER,this.handleStop,this),(0,i.listen)(r,e.default.DRAGOVER,this.handleStop,this),(0,i.listen)(r,e.default.DROP,this.handleStop,this)]}},r.prototype.setActive=function(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),t.prototype.setActive.call(this,e)},r.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},r.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(s){return null}},r.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(i.unlistenByKey),this.dropListenKeys_=null)},r.prototype.handleDrop=function(t){for(var r=t.dataTransfer.files,s=0,n=r.length;s<n;++s){var i=r.item(s),o=new FileReader;o.addEventListener(e.default.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}},r.prototype.handleStop=function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect=\"copy\"},r}(r.default),l=c;exports.default=l;"},"sourceMaps":null,"error":null,"hash":"5d6f7156f6e1486c394d65affb0aaecb","cacheData":{"env":{}}}